//
//  Copyright 2021 XiaoJSoft Studio. All rights reserved.
//  Use of this source code is governed by a BSD-style license that can be
//  found in the LICENSE.md file.
//

//  NE (Nms, Fs) to ceil(log2(NE / 2)) table.
const NBITSLASTNZ_TBL = [
    [
        6, 7, 7, 8, 8, 8
    ],
    [
        5, 6, 7, 7, 8, 8
    ]
];

//  gg_off table (where gg_off = GGOFF_TBL[fsind][nbits - 20], see Eq.110):
const GGOFF_TBL = [
    [
        -112, -112, -112, -112, -112, -112, 
        -112, -112, -112, -112, -113, -113, 
        -113, -113, -113, -113, -113, -113, 
        -113, -113, -114, -114, -114, -114, 
        -114, -114, -114, -114, -114, -114, 
        -115, -115, -115, -115, -115, -115, 
        -115, -115, -115, -115, -116, -116, 
        -116, -116, -116, -116, -116, -116, 
        -116, -116, -117, -117, -117, -117, 
        -117, -117, -117, -117, -117, -117, 
        -118, -118, -118, -118, -118, -118, 
        -118, -118, -118, -118, -119, -119, 
        -119, -119, -119, -119, -119, -119, 
        -119, -119, -120, -120, -120, -120, 
        -120, -120, -120, -120, -120, -120, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -138, -138, -138, -138, 
        -138, -138, -138, -138, -138, -138, 
        -139, -139, -139, -139, -139, -139, 
        -139, -139, -139, -139, -140, -140, 
        -140, -140, -140, -140, -140, -140, 
        -140, -140, -141, -141, -141, -141, 
        -141, -141, -141, -141, -141, -141, 
        -142, -142, -142, -142, -142, -142, 
        -142, -142, -142, -142, -143, -143, 
        -143, -143, -143, -143, -143, -143, 
        -143, -143, -144, -144, -144, -144, 
        -144, -144, -144, -144, -144, -144, 
        -145, -145, -145, -145, -145, -145, 
        -145, -145, -145, -145, -146, -146, 
        -146, -146, -146, -146, -146, -146, 
        -146, -146, -147, -147, -147, -147, 
        -147, -147, -147, -147, -147, -147, 
        -148, -148, -148, -148, -148, -148, 
        -148, -148, -148, -148, -149, -149, 
        -149, -149, -149, -149, -149, -149, 
        -149, -149, -150
    ],
    [
        -116, -116, -116, -116, -116, -116, 
        -116, -116, -116, -116, -116, -116, 
        -116, -116, -116, -116, -116, -116, 
        -116, -116, -117, -117, -117, -117, 
        -117, -117, -117, -117, -117, -117, 
        -117, -117, -117, -117, -117, -117, 
        -117, -117, -117, -117, -118, -118, 
        -118, -118, -118, -118, -118, -118, 
        -118, -118, -118, -118, -118, -118, 
        -118, -118, -118, -118, -118, -118, 
        -119, -119, -119, -119, -119, -119, 
        -119, -119, -119, -119, -119, -119, 
        -119, -119, -119, -119, -119, -119, 
        -119, -119, -120, -120, -120, -120, 
        -120, -120, -120, -120, -120, -120, 
        -120, -120, -120, -120, -120, -120, 
        -120, -120, -120, -120, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -135
    ],
    [
        -120, -120, -120, -120, -120, -120, 
        -120, -120, -120, -120, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -121, -121, 
        -121, -121, -121, -121, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -122, -122, 
        -122, -122, -122, -122, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -123, -123, 
        -123, -123, -123, -123, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -124, -124, 
        -124, -124, -124, -124, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133
    ],
    [
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -125, -125, -125, -125, 
        -125, -125, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -126, -126, -126, -126, -126, -126, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -127, -127, 
        -127, -127, -127, -127, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -128, -128, -128, -128, 
        -128, -128, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -129, -129, -129, -129, -129, -129, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -135
    ],
    [
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -130, -130, -130, -130, -130, -130, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -131, -131, -131, -131, 
        -131, -131, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -132, -132, 
        -132, -132, -132, -132, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -133, -133, -133, -133, -133, -133, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -134, -134, -134, -134, 
        -134, -134, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -135, -135, 
        -135, -135, -135, -135, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -136, -136, -136, -136, -136, -136, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -137, -137, -137, -137, 
        -137, -137, -138
    ]
];

//  Bitrate flag calculation constants.

//  BITRATE_C1[fsind] = 160 + fsind * 160:
const BITRATE_C1 = [ 160,  320,  480,  640,  800];

//  BITRATE_C2[fsind] = 480 + fsind * 160:
const BITRATE_C2 = [ 480,  640,  800,  960, 1120];

//  Export public APIs.
module.exports = {
    "NBITSLASTNZ_TBL": NBITSLASTNZ_TBL,
    "GGOFF_TBL": GGOFF_TBL,
    "BITRATE_C1": BITRATE_C1,
    "BITRATE_C2": BITRATE_C2
};